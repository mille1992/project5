{% extends "yayberhood/layout.html" %}

{% load static %}



{% block title %}
{% endblock %}


{% block stylesheet %}
    <link href="{% static 'yayberhood/css/profilePage.css' %}" rel="stylesheet">
{% endblock %}


{% block script %}
{% endblock %}


{% block body %}
    <div class="pageTitle-container">
        <p class="pageTitle">Your Profile</p>
    </div>

    <div class="row" style="margin-top: 40px; text-align: center;">
        <div class="col-3">
            <div class="profilePhotoBorder">
                <img class="profilePhoto" src={{curr_user.profilePhotoUrl}} >
            </div>
        </div>   
        <div class="col-6" style="text-align: center;">
            <h4>Details</h4>
            <ul class="list-group-flush" style="background-color: inherit;" >
                <li class="list-group-item" style="background-color: inherit;">Username: {{curr_user.username}}</li>
                <li class="list-group-item" style="background-color: inherit;;">You joined: {{curr_user.date_joined}}</li>
            </ul>
        </div> 
        <div class="col-3">
            <a href="{% url 'logout' %}" style="text-decoration: none; color: inherit;">        
                <button class="btn btn-danger" href="{% url 'logout' %}" style="text-align: center; color: white;padding: 8px">
                    Logout
                </button>
            </a>
        </div>
    </div>  

    <div class="row" style="margin-top: 60px; text-align: center;">
        
        <div class="col-6">
            <h4>Inbox</h4>
            <table class="table">
                <tr>
                    <th>Sender</th>
                    <th>Content</th>
                    <th>Time</th>
                    <th>Category</th>
                </tr>
                {% for in_message in inbox%}
                    <tr>
                        <td>
                            {{in_message.messageOwner}}                
                        </td>
                        <td>
                            {{in_message.messageContent}}                
                        </td>
                        <td>
                            {{in_message.messageTimestamp}}                
                        </td>
                        <td>
                            {{in_message.messageType}}                
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>   
        <div class="col-6">
            <h4>Outbox</h4>
            <table class="table">
                <tr>
                    <th>Recipient</th>
                    <th>Content</th>
                    <th>Time</th>
                    <th>Category</th>
                </tr>
                {% for out_message in outbox%}
                    <tr>
                        <td>
                            {{out_message.messageRecipient}}                
                        </td>
                        <td>
                            {{out_message.messageContent}}                
                        </td>
                        <td>
                            {{out_message.messageTimestamp}}                
                        </td>
                        <td>
                            {{out_message.messageType}}                
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>

    </div> 
    
    <div class="row" style="margin-top: 40px; text-align: center;">
        <h4>Your Participations</h4>
    </div>

    <div class="row" style="margin-top: 20px; text-align: center;">
        
        <div class="col-3">
            <h4>Little Projects</h4>
            <table class="table">
                <tr>
                    <th>Project Name</th>
                    <th>Involvement</th>
                </tr>
                    {% for project_participation in project_participations %}
                    <tr>
                        <td>{{ project_participation.0 }}</td>
                        <td>{{ project_participation.1 }}</td>
                    </tr>
                    {% endfor %}
            </table>
        </div>   
        <div class="col-3">
            <h4>Hobbies</h4>
            <table class="table">
                <tr>
                    <th>Hobby Title</th>
                    <th>Involvement</th>
                </tr>
                    {% for hobby_participation in hobby_participations %}
                    <tr>
                        <td>{{ hobby_participation.0 }}</td>
                        <td>{{ hobby_participation.1 }}</td>
                    </tr>
                    {% endfor %}
            </table>
        </div> 
        <div class="col-3">
            <h4>Little Helpers</h4>
            <table class="table">
                <tr>
                    <th>Help Title</th>
                    <th>Involvement</th>
                    <th>Type</th>
                </tr>
                    {% for little_helper_participation in little_helper_participations %}
                    <tr>
                        <td>{{ little_helper_participation.0 }}</td>
                        <td>{{ little_helper_participation.1 }}</td>
                        <td>{{ little_helper_participation.2 }}</td>
                    </tr>
                    {% endfor %}
            </table>
        </div>
        <div class="col-3">
            <h4>BorrowIt</h4>
            <table class="table">
                <tr>
                    <th>Rent Title</th>
                    <th>Involvement</th>
                </tr>
                    {% for borrow_it_participation in borrow_it_participations %}
                    <tr>
                        <td>{{ borrow_it_participation.0 }}</td>
                        <td>{{ borrow_it_participation.1 }}</td>
                    </tr>
                    {% endfor %}
            </table>
        </div>
    </div> 


{% endblock %}
